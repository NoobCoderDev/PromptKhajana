{% extends "base.html" %}

{% block title %}{{ prompt.title }} - Prompt Khajana{% endblock %}

{% block content %}
<div class="bg-white rounded-lg shadow-md p-8">
    <div class="mb-6">
        <div class="flex justify-between items-start mb-4">
            <span class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full">{{ prompt.category }}</span>
            <span class="text-yellow-500 text-xl">‚≠ê {{ prompt.rating }}</span>
        </div>
        <h1 class="text-3xl font-bold text-gray-900 mb-2">{{ prompt.title }}</h1>
        <p class="text-gray-500 text-sm">
            {% set time_diff = (prompt.updated_at - prompt.created_at).total_seconds() %}
            {% if time_diff < 1 %}
                Created on {{ prompt.created_at.strftime('%B %d, %Y') }}
            {% else %}
                Updated on {{ prompt.updated_at.strftime('%B %d, %Y') }}
            {% endif %}
        </p>
    </div>

    <div class="mb-6">
        <h2 class="text-xl font-semibold mb-3 text-gray-900">Prompt Content</h2>
        <p class="text-gray-700 whitespace-pre-wrap">{{ prompt.content }}</p>
    </div>

    {% if prompt.examples %}
    <div class="mb-6">
        <h2 class="text-xl font-semibold mb-3 text-gray-900">Examples</h2>
        <p class="text-gray-700 whitespace-pre-wrap">{{ prompt.examples }}</p>
    </div>
    {% endif %}

    <div class="flex space-x-4">
        <a href="{{ url_for('main.edit_prompt', id=prompt.id) }}" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">Edit Prompt</a>
        <a href="{{ url_for('main.delete_prompt', id=prompt.id) }}" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700" onclick="return confirm('Delete this prompt?')">Delete Prompt</a>
        <a href="{{ url_for('main.index') }}" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300">Back to Home</a>
    </div>
</div>
{% endblock %}
